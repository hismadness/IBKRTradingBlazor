@page "/settings"

@inject IBKRTradingBlazor.Desktop.Services.TradingModeService TradingModeService

<h3>Settings</h3>

<div class="form-check form-switch mb-3">
    <input class="form-check-input" type="checkbox" id="liveToggle" @bind="isLiveTrading" @onchange="OnModeChanged" />
    <label class="form-check-label" for="liveToggle">
        @if (isLiveTrading)
        {
            <span>Live Trading</span>
        }
        else
        {
            <span>Paper Trading</span>
        }
    </label>
</div>

<p>Settings and configuration options will be available here.</p>

@code {
    private bool isLiveTrading;

    protected override void OnInitialized()
    {
        isLiveTrading = TradingModeService.CurrentMode == IBKRTradingBlazor.Desktop.Services.TradingMode.Live;
    }

    private void OnModeChanged(ChangeEventArgs e)
    {
        TradingModeService.CurrentMode = isLiveTrading ? IBKRTradingBlazor.Desktop.Services.TradingMode.Live : IBKRTradingBlazor.Desktop.Services.TradingMode.Paper;
    }
} 